### Main ###
# Build for debugging
default:
  - 'build_dev'
  - 'lint'

# Build, then watch and recompile changed files for debugging
dev:
  - 'build_dev'
  - 'watch'

# Run a local webserver for debugging
prev:
  - 'connect:dev'

# Build, then run a local webserver for prod preview
prod:
  - 'build_prod'
  - 'connect:prod'


### Helpers ###
# Lint source files
lint:
  - 'newer:jshint'
  
  - 'newer:csslint'
  - 'newer:lesslint'
  
  - 'newer:jsonlint'


### Aliases ###
build_dev:
  - 'gitinfo'  
  - 'newer:concurrent:optimize'
  
  - 'newer:includes:dev'
  - 'newer:preprocess:dev'
  - 'newer:uglify:dev'
  - 'newer:cssmin:dev'
  - 'newer:less:dev'
  - 'newer:copy:build'
  - 'newer:copy:dev'

build_prod:
  - 'gitinfo'
  - 'clean:tmp_dist'
  - 'clean:prod'  
  - 'concurrent:optimize'
  
  - 'includes:dev'
  - 'preprocess:prod'
  - 'htmlmin:prod'
  - 'uglify:dev'
  - 'cssmin:dev'
  - 'less:dev'
  - 'copy:build'
  - 'copy:prod'
  
  - 'clean:tmp_dist'
